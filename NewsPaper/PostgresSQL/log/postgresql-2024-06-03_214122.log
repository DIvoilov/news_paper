2024-06-03 21:41:22.881 +07 [13208] СООБЩЕНИЕ:  система БД была выключена: 2024-06-03 21:40:33 +07
2024-06-03 21:46:22.877 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-03 21:46:51.148 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 239 (1.5%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=26.305 сек., синхр.=1.615 сек., всего=28.272 сек.; синхронизировано_файлов=66, самая_долгая_синхр.=0.673 сек., средняя=0.025 сек.; расстояние=3150 kB, ожидалось=3150 kB; lsn=0/2A2D708, lsn redo=0/2A2D6D0
2024-06-03 21:51:22.162 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-03 21:53:17.911 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 983 (6.0%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=110.416 сек., синхр.=4.418 сек., всего=115.750 сек.; синхронизировано_файлов=307, самая_долгая_синхр.=0.042 сек., средняя=0.015 сек.; расстояние=4600 kB, ожидалось=4600 kB; lsn=0/2EAE1B8, lsn redo=0/2EAB8D0
2024-06-03 21:56:30.876 +07 [6664] РЎРћРћР‘Р©Р•РќРР•:  РЅРµ СѓРґР°Р»РѕСЃСЊ РїРѕР»СѓС‡РёС‚СЊ РґР°РЅРЅС‹Рµ РѕС‚ РєР»РёРµРЅС‚Р°: An existing connection was forcibly closed by the remote host.
	
2024-06-03 21:56:30.876 +07 [11620] РЎРћРћР‘Р©Р•РќРР•:  РЅРµ СѓРґР°Р»РѕСЃСЊ РїРѕР»СѓС‡РёС‚СЊ РґР°РЅРЅС‹Рµ РѕС‚ РєР»РёРµРЅС‚Р°: An existing connection was forcibly closed by the remote host.
	
2024-06-03 21:56:30.876 +07 [5740] РЎРћРћР‘Р©Р•РќРР•:  РЅРµ СѓРґР°Р»РѕСЃСЊ РїРѕР»СѓС‡РёС‚СЊ РґР°РЅРЅС‹Рµ РѕС‚ РєР»РёРµРЅС‚Р°: An existing connection was forcibly closed by the remote host.
	
2024-06-03 21:56:30.876 +07 [5692] РЎРћРћР‘Р©Р•РќРР•:  РЅРµ СѓРґР°Р»РѕСЃСЊ РїРѕР»СѓС‡РёС‚СЊ РґР°РЅРЅС‹Рµ РѕС‚ РєР»РёРµРЅС‚Р°: An existing connection was forcibly closed by the remote host.
	
2024-06-03 21:56:30.913 +07 [13680] СООБЩЕНИЕ:  не удалось получить данные от клиента: An existing connection was forcibly closed by the remote host.
	
2024-06-03 21:59:46.922 +07 [13604] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: "test_table") (СЃРёРјРІРѕР» 6)
2024-06-03 21:59:46.922 +07 [13604] РћРџР•Р РђРўРћР :  drop test_table;
2024-06-03 22:01:22.933 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-03 22:01:30.615 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 59 (0.4%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=6.488 сек., синхр.=0.833 сек., всего=7.682 сек.; синхронизировано_файлов=49, самая_долгая_синхр.=0.034 сек., средняя=0.017 сек.; расстояние=211 kB, ожидалось=4161 kB; lsn=0/2EE06A0, lsn redo=0/2EE0668
2024-06-03 22:03:44.531 +07 [14624] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: "ashka") (СЃРёРјРІРѕР» 1)
2024-06-03 22:03:44.531 +07 [14624] РћРџР•Р РђРўРћР :  ashka');
	select * from vendors
2024-06-03 22:06:22.631 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-03 22:06:23.624 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 8 (0.0%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=0.784 сек., синхр.=0.146 сек., всего=0.994 сек.; синхронизировано_файлов=7, самая_долгая_синхр.=0.028 сек., средняя=0.021 сек.; расстояние=0 kB, ожидалось=3745 kB; lsn=0/2EE0970, lsn redo=0/2EE0938
2024-06-04 19:37:20.653 +07 [8840] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: "no") (СЃРёРјРІРѕР» 67)
2024-06-04 19:37:20.653 +07 [8840] РћРџР•Р РђРўРћР :  create table advertisement(
		id bigserial primary key,
		name text no null,
		user_id unique,
		text text check(length(text)< 1000)
	);
	
	create table posts(
		id SERIAL primary key,
		author text not null unique,
		content text not null
	);
2024-06-04 19:37:33.192 +07 [8840] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: "unique") (СЃРёРјРІРѕР» 86)
2024-06-04 19:37:33.192 +07 [8840] РћРџР•Р РђРўРћР :  create table advertisement(
		id bigserial primary key,
		name text not null,
		user_id unique,
		text text check(length(text)< 1000)
	);
	
	create table posts(
		id SERIAL primary key,
		author text not null unique,
		content text not null
	);
2024-06-04 19:38:31.929 +07 [8840] РћРЁРР‘РљРђ:  СЃС‚РѕР»Р±РµС† "text" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 127)
2024-06-04 19:38:31.929 +07 [8840] РџРћР”РЎРљРђР—РљРђ:  Р’РѕР·РјРѕР¶РЅРѕ, РїСЂРµРґРїРѕР»Р°РіР°Р»Р°СЃСЊ СЃСЃС‹Р»РєР° РЅР° СЃС‚РѕР»Р±РµС† "advertisement.text_".
2024-06-04 19:38:31.929 +07 [8840] РћРџР•Р РђРўРћР :  create table advertisement(
		id bigserial primary key,
		name text not null,
		user_id integer unique,
		text_ text check(length(text)< 1000)
	);
	
	create table posts(
		id SERIAL primary key,
		author text not null unique,
		content text not null
	);
2024-06-04 19:39:21.677 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 19:39:27.043 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 42 (0.3%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=4.586 сек., синхр.=0.719 сек., всего=5.366 сек.; синхронизировано_файлов=45, самая_долгая_синхр.=0.034 сек., средняя=0.016 сек.; расстояние=198 kB, ожидалось=3390 kB; lsn=0/2F12240, lsn redo=0/2F12208
2024-06-04 19:41:15.450 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "learn_db_1" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:41:15.450 +07 [8840] РћРџР•Р РђРўРћР :  select * from learn_db_1
2024-06-04 19:41:56.487 +07 [8840] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: ".") (СЃРёРјРІРѕР» 30)
2024-06-04 19:41:56.487 +07 [8840] РћРџР•Р РђРўРћР :  select * from data learn_db_1.tables
2024-06-04 19:42:57.185 +07 [8840] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: ".") (СЃРёРјРІРѕР» 30)
2024-06-04 19:42:57.185 +07 [8840] РћРџР•Р РђРўРћР :  select * from data pg_catalog.pg_tables
2024-06-04 19:43:12.348 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "data" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:43:12.348 +07 [8840] РћРџР•Р РђРўРћР :  select * from data tables
2024-06-04 19:43:18.993 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "tables" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:43:18.993 +07 [8840] РћРџР•Р РђРўРћР :  select * from tables
2024-06-04 19:44:01.450 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "public" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:44:01.450 +07 [8840] РћРџР•Р РђРўРћР :  select * from public
2024-06-04 19:44:05.551 +07 [8840] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° РІ РєРѕРЅС†Рµ (СЃРёРјРІРѕР» 23)
2024-06-04 19:44:05.551 +07 [8840] РћРџР•Р РђРўРћР :  select * from public.*
2024-06-04 19:44:13.919 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "public.tables" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:44:13.919 +07 [8840] РћРџР•Р РђРўРћР :  select * from public.tables
2024-06-04 19:44:21.053 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 19:44:22.474 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 10 (0.1%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=1.118 сек., синхр.=0.236 сек., всего=1.422 сек.; синхронизировано_файлов=8, самая_долгая_синхр.=0.053 сек., средняя=0.030 сек.; расстояние=12 kB, ожидалось=3052 kB; lsn=0/2F15600, lsn redo=0/2F155C8
2024-06-04 19:45:01.734 +07 [8840] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "public.columns" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 15)
2024-06-04 19:45:01.734 +07 [8840] РћРџР•Р РђРўРћР :  select * from public.columns
2024-06-04 19:51:35.255 +07 [15484] РЎРћРћР‘Р©Р•РќРР•:  РЅРµ СѓРґР°Р»РѕСЃСЊ РїРѕР»СѓС‡РёС‚СЊ РґР°РЅРЅС‹Рµ РѕС‚ РєР»РёРµРЅС‚Р°: An existing connection was forcibly closed by the remote host.
	
2024-06-04 19:52:22.463 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:52:22.463 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
2024-06-04 19:52:38.196 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:52:38.196 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
2024-06-04 19:52:49.304 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:52:49.304 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
2024-06-04 19:54:21.494 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 19:54:31.021 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:54:31.021 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
2024-06-04 19:54:33.284 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 95 (0.6%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=10.525 сек., синхр.=0.846 сек., всего=11.791 сек.; синхронизировано_файлов=85, самая_долгая_синхр.=0.034 сек., средняя=0.010 сек.; расстояние=541 kB, ожидалось=2801 kB; lsn=0/2F9D190, lsn redo=0/2F9CC58
2024-06-04 19:54:38.071 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:54:38.071 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
2024-06-04 19:54:38.892 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 102)
2024-06-04 19:54:38.892 +07 [14504] РћРџР•Р РђРўРћР :  DROP TABLE IF EXISTS products_categories, products, categories, manufacturers, vendors;
	CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	CREATE TABLE manufacturers (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL,
	    website TEXT
	);
	
	CREATE TABLE categories (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	-- РЎРѕР·РґР°РЅРёРµ С‚Р°Р±Р»РёС†С‹ "РўРѕРІР°СЂС‹".
	CREATE TABLE products (
	    id BIGSERIAL PRIMARY KEY, -- РїРµСЂРІРёС‡РЅС‹Р№ РєР»СЋС‡
	    name TEXT NOT NULL, -- РЅР°Р·РІР°РЅРёРµ С‚РѕРІР°СЂР°
	    price INT CHECK(price > 0), -- С†РµРЅР° (РіР°СЂР°РЅС‚РёСЂСѓРµС‚СЃСЏ, С‡С‚Рѕ С†РµРЅР° > 0)
	    vendor_id BIGINT REFERENCES vendors(id), -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРґР°РІС†Р°
	    manufacturer_id BIGINT REFERENCES manufacturers(id) -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЏ
	);
	-- РЎРѕР·РґР°РЅРёРµ РёРЅРґРµРєСЃР° РґР»СЏ СѓСЃРєРѕСЂРµРЅРёСЏ РїРѕРёСЃРєР° РїРѕ РЅР°Р·РІР°РЅРёСЋ С‚РѕРІР°СЂР°.
	CREATE INDEX product_name_idx ON products(name);
	
	CREATE TABLE products_categories (
	    id BIGSERIAL PRIMARY KEY,
	    product_id BIGINT REFERENCES products(id),    
	    category_id BIGINT REFERENCES categories(id)
	);
	
	-- РћС‡РёСЃС‚РєР° РІСЃРµС… С‚Р°Р±Р»РёС† РїРµСЂРµРґ РЅР°РїРѕР»РЅРµРЅРёРµРј С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	TRUNCATE TABLE products_categories, categories, manufacturers, vendors, products;
	
	-- РќР°РїРѕР»РЅРµРЅРёРµ С‚Р°Р±Р»РёС† С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	INSERT INTO categories(name) VALUES
	    ('РњСѓР·С‹РєР°Р»СЊРЅС‹Рµ РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹'), ('РџСЂРѕС„РµСЃСЃРёРѕРЅР°Р»СЊРЅРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ'), ('Р›СЋР±РёС‚РµР»СЊСЃРєРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ');
	INSERT INTO vendors(name) VALUES('РњСѓР·С‚РѕСЂРі'), ('4 С‡РµС‚РІРµСЂС‚Рё');
	INSERT INTO manufacturers(name, website) VALUES
	    ('Fender
	    ', 'fender.com'), ('Gibson','gibson.com'), ('Roland', 'roland.com');
	INSERT INTO products(name, price,  vendor_id, manufacturer_id) VALUES
	    ('Fender Stratocaster', 3500000, 2, 1),
	    ('Fender Telecaster', 3900000, 2, 1),
	    ('Fender Bullet', 1200000, 2, 1),
	    ('Gibson Les Paul', 5700000, 1, 2);
	INSERT INTO products_categories(product_id, category_id) VALUES
	    (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 19:54:39.524 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 102)
2024-06-04 19:54:39.524 +07 [14504] РћРџР•Р РђРўРћР :  DROP TABLE IF EXISTS products_categories, products, categories, manufacturers, vendors;
	CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	CREATE TABLE manufacturers (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL,
	    website TEXT
	);
	
	CREATE TABLE categories (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	-- РЎРѕР·РґР°РЅРёРµ С‚Р°Р±Р»РёС†С‹ "РўРѕРІР°СЂС‹".
	CREATE TABLE products (
	    id BIGSERIAL PRIMARY KEY, -- РїРµСЂРІРёС‡РЅС‹Р№ РєР»СЋС‡
	    name TEXT NOT NULL, -- РЅР°Р·РІР°РЅРёРµ С‚РѕРІР°СЂР°
	    price INT CHECK(price > 0), -- С†РµРЅР° (РіР°СЂР°РЅС‚РёСЂСѓРµС‚СЃСЏ, С‡С‚Рѕ С†РµРЅР° > 0)
	    vendor_id BIGINT REFERENCES vendors(id), -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРґР°РІС†Р°
	    manufacturer_id BIGINT REFERENCES manufacturers(id) -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЏ
	);
	-- РЎРѕР·РґР°РЅРёРµ РёРЅРґРµРєСЃР° РґР»СЏ СѓСЃРєРѕСЂРµРЅРёСЏ РїРѕРёСЃРєР° РїРѕ РЅР°Р·РІР°РЅРёСЋ С‚РѕРІР°СЂР°.
	CREATE INDEX product_name_idx ON products(name);
	
	CREATE TABLE products_categories (
	    id BIGSERIAL PRIMARY KEY,
	    product_id BIGINT REFERENCES products(id),    
	    category_id BIGINT REFERENCES categories(id)
	);
	
	-- РћС‡РёСЃС‚РєР° РІСЃРµС… С‚Р°Р±Р»РёС† РїРµСЂРµРґ РЅР°РїРѕР»РЅРµРЅРёРµРј С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	TRUNCATE TABLE products_categories, categories, manufacturers, vendors, products;
	
	-- РќР°РїРѕР»РЅРµРЅРёРµ С‚Р°Р±Р»РёС† С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	INSERT INTO categories(name) VALUES
	    ('РњСѓР·С‹РєР°Р»СЊРЅС‹Рµ РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹'), ('РџСЂРѕС„РµСЃСЃРёРѕРЅР°Р»СЊРЅРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ'), ('Р›СЋР±РёС‚РµР»СЊСЃРєРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ');
	INSERT INTO vendors(name) VALUES('РњСѓР·С‚РѕСЂРі'), ('4 С‡РµС‚РІРµСЂС‚Рё');
	INSERT INTO manufacturers(name, website) VALUES
	    ('Fender
	    ', 'fender.com'), ('Gibson','gibson.com'), ('Roland', 'roland.com');
	INSERT INTO products(name, price,  vendor_id, manufacturer_id) VALUES
	    ('Fender Stratocaster', 3500000, 2, 1),
	    ('Fender Telecaster', 3900000, 2, 1),
	    ('Fender Bullet', 1200000, 2, 1),
	    ('Gibson Les Paul', 5700000, 1, 2);
	INSERT INTO products_categories(product_id, category_id) VALUES
	    (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 19:54:42.637 +07 [14504] РћРЁРР‘РљРђ:  СЃС…РµРјР° "products_project" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 14)
2024-06-04 19:54:42.637 +07 [14504] РћРџР•Р РђРўРћР :  CREATE TABLE Products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
2024-06-04 19:55:18.096 +07 [14504] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "vendors" СѓР¶Рµ СЃСѓС‰РµСЃС‚РІСѓРµС‚
2024-06-04 19:55:18.096 +07 [14504] РћРџР•Р РђРўРћР :  DROP TABLE IF EXISTS products_categories, products, categories, manufacturers, vendors;
	CREATE TABLE products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	CREATE TABLE manufacturers (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL,
	    website TEXT
	);
	
	CREATE TABLE categories (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	-- РЎРѕР·РґР°РЅРёРµ С‚Р°Р±Р»РёС†С‹ "РўРѕРІР°СЂС‹".
	CREATE TABLE products (
	    id BIGSERIAL PRIMARY KEY, -- РїРµСЂРІРёС‡РЅС‹Р№ РєР»СЋС‡
	    name TEXT NOT NULL, -- РЅР°Р·РІР°РЅРёРµ С‚РѕРІР°СЂР°
	    price INT CHECK(price > 0), -- С†РµРЅР° (РіР°СЂР°РЅС‚РёСЂСѓРµС‚СЃСЏ, С‡С‚Рѕ С†РµРЅР° > 0)
	    vendor_id BIGINT REFERENCES vendors(id), -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРґР°РІС†Р°
	    manufacturer_id BIGINT REFERENCES manufacturers(id) -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЏ
	);
	-- РЎРѕР·РґР°РЅРёРµ РёРЅРґРµРєСЃР° РґР»СЏ СѓСЃРєРѕСЂРµРЅРёСЏ РїРѕРёСЃРєР° РїРѕ РЅР°Р·РІР°РЅРёСЋ С‚РѕРІР°СЂР°.
	CREATE INDEX product_name_idx ON products(name);
	
	CREATE TABLE products_categories (
	    id BIGSERIAL PRIMARY KEY,
	    product_id BIGINT REFERENCES products(id),    
	    category_id BIGINT REFERENCES categories(id)
	);
	
	-- РћС‡РёСЃС‚РєР° РІСЃРµС… С‚Р°Р±Р»РёС† РїРµСЂРµРґ РЅР°РїРѕР»РЅРµРЅРёРµРј С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	TRUNCATE TABLE products_categories, categories, manufacturers, vendors, products;
	
	-- РќР°РїРѕР»РЅРµРЅРёРµ С‚Р°Р±Р»РёС† С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	INSERT INTO categories(name) VALUES
	    ('РњСѓР·С‹РєР°Р»СЊРЅС‹Рµ РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹'), ('РџСЂРѕС„РµСЃСЃРёРѕРЅР°Р»СЊРЅРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ'), ('Р›СЋР±РёС‚РµР»СЊСЃРєРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ');
	INSERT INTO vendors(name) VALUES('РњСѓР·С‚РѕСЂРі'), ('4 С‡РµС‚РІРµСЂС‚Рё');
	INSERT INTO manufacturers(name, website) VALUES
	    ('Fender
	    ', 'fender.com'), ('Gibson','gibson.com'), ('Roland', 'roland.com');
	INSERT INTO products(name, price,  vendor_id, manufacturer_id) VALUES
	    ('Fender Stratocaster', 3500000, 2, 1),
	    ('Fender Telecaster', 3900000, 2, 1),
	    ('Fender Bullet', 1200000, 2, 1),
	    ('Gibson Les Paul', 5700000, 1, 2);
	INSERT INTO products_categories(product_id, category_id) VALUES
	    (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 19:57:43.926 +07 [11832] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: ".") (СЃРёРјРІРѕР» 1002)
2024-06-04 19:57:43.926 +07 [11832] РћРџР•Р РђРўРћР :  DROP TABLE IF EXISTS products_project.products_categories, products_project.products,
		products_project.categories, products_project.manufacturers, products_project.vendors;
	CREATE TABLE products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	CREATE TABLE products_project.manufacturers (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL,
	    website TEXT
	);
	
	CREATE TABLE products_project.categories (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	-- РЎРѕР·РґР°РЅРёРµ С‚Р°Р±Р»РёС†С‹ "РўРѕРІР°СЂС‹".
	CREATE TABLE products_project.products (
	    id BIGSERIAL PRIMARY KEY, -- РїРµСЂРІРёС‡РЅС‹Р№ РєР»СЋС‡
	    name TEXT NOT NULL, -- РЅР°Р·РІР°РЅРёРµ С‚РѕРІР°СЂР°
	    price INT CHECK(price > 0), -- С†РµРЅР° (РіР°СЂР°РЅС‚РёСЂСѓРµС‚СЃСЏ, С‡С‚Рѕ С†РµРЅР° > 0)
	    vendor_id BIGINT REFERENCES products_project.vendors(id), -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРґР°РІС†Р°
	    manufacturer_id BIGINT REFERENCES products_project.manufacturers(id) -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЏ
	);
	-- РЎРѕР·РґР°РЅРёРµ РёРЅРґРµРєСЃР° РґР»СЏ СѓСЃРєРѕСЂРµРЅРёСЏ РїРѕРёСЃРєР° РїРѕ РЅР°Р·РІР°РЅРёСЋ С‚РѕРІР°СЂР°.
	CREATE INDEX products_project.product_name_idx ON products(name);
	
	CREATE TABLE products_project.products_categories (
	    id BIGSERIAL PRIMARY KEY,
	    product_id BIGINT REFERENCES products_project.products(id),    
	    category_id BIGINT REFERENCES products_project.categories(id)
	);
	
	-- РћС‡РёСЃС‚РєР° РІСЃРµС… С‚Р°Р±Р»РёС† РїРµСЂРµРґ РЅР°РїРѕР»РЅРµРЅРёРµРј С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	TRUNCATE TABLE products_project.products_categories, products_project.categories,
		products_project.manufacturers, products_project.vendors, products_project.products;
	
	-- РќР°РїРѕР»РЅРµРЅРёРµ С‚Р°Р±Р»РёС† С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	INSERT INTO products_project.categories(name) VALUES
	    ('РњСѓР·С‹РєР°Р»СЊРЅС‹Рµ РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹'), ('РџСЂРѕС„РµСЃСЃРёРѕРЅР°Р»СЊРЅРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ'), ('Р›СЋР±РёС‚РµР»СЊСЃРєРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ');
	INSERT INTO products_project.vendors(name) VALUES('РњСѓР·С‚РѕСЂРі'), ('4 С‡РµС‚РІРµСЂС‚Рё');
	INSERT INTO products_project.manufacturers(name, website) VALUES
	    ('Fender
	    ', 'fender.com'), ('Gibson','gibson.com'), ('Roland', 'roland.com');
	INSERT INTO products_project.products(name, price,  vendor_id, manufacturer_id) VALUES
	    ('Fender Stratocaster', 3500000, 2, 1),
	    ('Fender Telecaster', 3900000, 2, 1),
	    ('Fender Bullet', 1200000, 2, 1),
	    ('Gibson Les Paul', 5700000, 1, 2);
	INSERT INTO products_project.products_categories(product_id, category_id) VALUES
	    (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 19:58:01.672 +07 [11832] РћРЁРР‘РљРђ:  РѕС€РёР±РєР° СЃРёРЅС‚Р°РєСЃРёСЃР° (РїСЂРёРјРµСЂРЅРѕРµ РїРѕР»РѕР¶РµРЅРёРµ: ".") (СЃРёРјРІРѕР» 1002)
2024-06-04 19:58:01.672 +07 [11832] РћРџР•Р РђРўРћР :  DROP TABLE IF EXISTS products_project.products_categories, products_project.products,
		products_project.categories, products_project.manufacturers, products_project.vendors;
	CREATE TABLE products_project.vendors (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	CREATE TABLE products_project.manufacturers (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL,
	    website TEXT
	);
	
	CREATE TABLE products_project.categories (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT NOT NULL
	);
	
	-- РЎРѕР·РґР°РЅРёРµ С‚Р°Р±Р»РёС†С‹ "РўРѕРІР°СЂС‹".
	CREATE TABLE products_project.products (
	    id BIGSERIAL PRIMARY KEY, -- РїРµСЂРІРёС‡РЅС‹Р№ РєР»СЋС‡
	    name TEXT NOT NULL, -- РЅР°Р·РІР°РЅРёРµ С‚РѕРІР°СЂР°
	    price INT CHECK(price > 0), -- С†РµРЅР° (РіР°СЂР°РЅС‚РёСЂСѓРµС‚СЃСЏ, С‡С‚Рѕ С†РµРЅР° > 0)
	    vendor_id BIGINT REFERENCES products_project.vendors(id), -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРґР°РІС†Р°
	    manufacturer_id BIGINT REFERENCES products_project.manufacturers(id) -- СЃСЃС‹Р»РєР° РЅР° РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЏ
	);
	-- РЎРѕР·РґР°РЅРёРµ РёРЅРґРµРєСЃР° РґР»СЏ СѓСЃРєРѕСЂРµРЅРёСЏ РїРѕРёСЃРєР° РїРѕ РЅР°Р·РІР°РЅРёСЋ С‚РѕРІР°СЂР°.
	CREATE INDEX products_project.product_name_idx ON products_project.products(name);
	
	CREATE TABLE products_project.products_categories (
	    id BIGSERIAL PRIMARY KEY,
	    product_id BIGINT REFERENCES products_project.products(id),    
	    category_id BIGINT REFERENCES products_project.categories(id)
	);
	
	-- РћС‡РёСЃС‚РєР° РІСЃРµС… С‚Р°Р±Р»РёС† РїРµСЂРµРґ РЅР°РїРѕР»РЅРµРЅРёРµРј С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	TRUNCATE TABLE products_project.products_categories, products_project.categories,
		products_project.manufacturers, products_project.vendors, products_project.products;
	
	-- РќР°РїРѕР»РЅРµРЅРёРµ С‚Р°Р±Р»РёС† С‚РµСЃС‚РѕРІС‹РјРё РґР°РЅРЅС‹РјРё.
	INSERT INTO products_project.categories(name) VALUES
	    ('РњСѓР·С‹РєР°Р»СЊРЅС‹Рµ РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹'), ('РџСЂРѕС„РµСЃСЃРёРѕРЅР°Р»СЊРЅРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ'), ('Р›СЋР±РёС‚РµР»СЊСЃРєРѕРµ РјСѓР·С‹РєР°Р»СЊРЅРѕРµ РѕР±РѕСЂСѓРґРѕРІР°РЅРёРµ');
	INSERT INTO products_project.vendors(name) VALUES('РњСѓР·С‚РѕСЂРі'), ('4 С‡РµС‚РІРµСЂС‚Рё');
	INSERT INTO products_project.manufacturers(name, website) VALUES
	    ('Fender
	    ', 'fender.com'), ('Gibson','gibson.com'), ('Roland', 'roland.com');
	INSERT INTO products_project.products(name, price,  vendor_id, manufacturer_id) VALUES
	    ('Fender Stratocaster', 3500000, 2, 1),
	    ('Fender Telecaster', 3900000, 2, 1),
	    ('Fender Bullet', 1200000, 2, 1),
	    ('Gibson Les Paul', 5700000, 1, 2);
	INSERT INTO products_project.products_categories(product_id, category_id) VALUES
	    (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 19:59:21.288 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 19:59:32.503 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 88 (0.5%); добавлено файлов WAL 0, удалено: 0, переработано: 1; запись=9.727 сек., синхр.=1.285 сек., всего=11.216 сек.; синхронизировано_файлов=77, самая_долгая_синхр.=0.210 сек., средняя=0.017 сек.; расстояние=413 kB, ожидалось=2562 kB; lsn=0/3004198, lsn redo=0/3004160
2024-06-04 20:02:12.064 +07 [11832] РћРЁРР‘РљРђ:  СЃС‚РѕР»Р±РµС† "man.website" РґРѕР»Р¶РµРЅ С„РёРіСѓСЂРёСЂРѕРІР°С‚СЊ РІ РїСЂРµРґР»РѕР¶РµРЅРёРё GROUP BY РёР»Рё РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊСЃСЏ РІ Р°РіСЂРµРіР°С‚РЅРѕР№ С„СѓРЅРєС†РёРё (СЃРёРјРІРѕР» 36)
2024-06-04 20:02:12.064 +07 [11832] РћРџР•Р РђРўРћР :  select count(prod.id), man."name", man.website from products_project.products prod, 
		products_project.vendors vend,
		products_project.manufacturers man
	where prod.vendor_id = vend.id
	and prod.manufacturer_id = man.id
	group by man."name"
2024-06-04 20:04:21.514 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 20:04:24.718 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 22 (0.1%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=2.463 сек., синхр.=0.394 сек., всего=3.204 сек.; синхронизировано_файлов=13, самая_долгая_синхр.=0.069 сек., средняя=0.031 сек.; расстояние=57 kB, ожидалось=2312 kB; lsn=0/30126F8, lsn redo=0/30126C0
2024-06-04 20:05:53.711 +07 [11832] РћРЁРР‘РљРђ:  РѕС‚РЅРѕС€РµРЅРёРµ "products_categories" РЅРµ СЃСѓС‰РµСЃС‚РІСѓРµС‚ (СЃРёРјРІРѕР» 13)
2024-06-04 20:05:53.711 +07 [11832] РћРџР•Р РђРўРћР :  INSERT INTO products_categories(product_id, category_id)
	VALUES (1, 1), (1, 2), (3, 1), (3, 3);
2024-06-04 20:09:21.719 +07 [14068] СООБЩЕНИЕ:  начата контрольная точка: time
2024-06-04 20:09:22.747 +07 [14068] СООБЩЕНИЕ:  контрольная точка завершена: записано буферов: 8 (0.0%); добавлено файлов WAL 0, удалено: 0, переработано: 0; запись=0.788 сек., синхр.=0.161 сек., всего=1.028 сек.; синхронизировано_файлов=8, самая_долгая_синхр.=0.036 сек., средняя=0.021 сек.; расстояние=3 kB, ожидалось=2081 kB; lsn=0/30133D8, lsn redo=0/30133A0
